---
layout: post
title: Open Song
author: serg
categories:
  - tutorial
image: assets/images/opensong1.png
tags: featured opensong
published: true
---



После моего краткого выступления на конференции "Дыхание ~~Шобры~~ Славы 2019" я увидел заинтересованность некоторых братьев и сестер, с которыми и хотел бы поделиться более подробной информацией. На этот раз постараюсь объяснить более наглядно как это работает. 
На самом деле возможности каждого сервиса или программа достойны отдельной лекции, или даже целой конференции.
 
## Формат
![]({{ site.baseurl }}/assets/images/opensong3.png)
Для хранения текстов песен с аккордами мы используем формат Open Song XML. На самом деле это просто файл XML, только без расширения. Подробнее об этом формате можно почитать [на wiki](https://ru.wikipedia.org/wiki/XML).
Каждая наша песня хранится в отдельном файле, в котором содержится текст песни с аккордами и много другой полезной информации. Когда нибудь я постараюсь осветить эту тему более подробно.

## Систематизация и хранение репертуара.
Для начала хочу дать некое общее представление:
![]({{ site.baseurl }}/assets/images/opensong2.jpg)
Это наша, так сказать "упрощенная концептуальная" схема. Целое состоящее из нескольких составных частей. 
Теперь разберем каждый элемент несколько подробнее.

Итак пройдемся далее по пунктам нашей схемы.

## 1. Набираем песню в редакторе. 
Для работы с базой песен существуют различные программы. Кроме того из за простоты формата файл можно открыть практически в любом текстовом редакторе.

На настольном компьютере обычно я использую программу OpenChords. Так же рекомендую другим начинать с неё. Большинство наших песен набрано именно в ней. Интерфейс напоминает простой блокнот с обогащенным функционалом. Когда нибудь тоже расскажу о ней подробнее. 
- [Сайт программы](https://openchords.sourceforge.io/) на английском;
- [Скачать последнюю версию (английский язык)](https://sourceforge.net/projects/openchords/files/latest/download) ; 
- Для себя я самостоятельно собирал [руссифицированную версию](https://cloud.mail.ru/public/Evo3/A8AHSL1kQ) (работает немного не стабильно - не судите строго). 
![]({{ site.baseurl }}/assets/images/opensong4.jpg)

Также моим верным карманным спутником является мобильное приложение OpenSongApp для Android.

- [Официальный сайт OpenSongApp на английском.](https://www.opensongapp.com/) 
- Ссылка для установки на мобильные устройства:
[![ссылка на PlayMarket][opensongapp]][market]

Некоторые полезные возможности этих программ:
- есть функции импорта и автоформатирования (не придется начинать с нуля и все набирать самому);
- полнотекстовый поиск по базе;
- удобная работа со списком песен - составить список, сохранить, загрузить, изменить порядок песен в нем и т.д.;
- транспонирование в любую тональность;
- несколько режимов работы, например редактор / презентация;
- экспорт на печать (на бумагу), в HTML (получается  сразу готовая страничка, которую можно например выложить на свой сайт). В OpenSong так же легко перевести песню в некоторые текстовые форматы, поделиться ими в соцсетях и т.п.
- в OpenSongApp есть очень интересная возможность синхронизироваться с другими гаджетами и проектором через WiFi, для показа текстов песен, объявлений, стихов из Библии, слайдов и т.п.:
<p><iframe style="width:100%;" height="315" src="https://www.youtube.com/embed/xdti4Kh3qf8?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe></p>

## 2. Добавляем данные в базу данных Airtables.
![]({{ site.baseurl }}/assets/images/icon_airt.jpg)

Сама база находится в интернете и не привязана к конкретной программе, формату или носителю информации. [Ссылка на нашу базу в Airtables (режим только для чтения)](https://airtable.com/shrf59t6LkyvGAQ4R).
Я искал именно такой сервис, чтобы все желающие могли им пользоваться с любой платформы:
- доступен просмотр онлайн с любого браузера;
- есть настольное и мобильное приложения (мобильное на мой взгляд для наших целей не очень подходящее);
- к каждой записи можно добавить дополнительные поля, ссылки, пример звучания, текстовые файлы (с превью) и т.д. Объем вложение не должен превышать 2 Гб (в бесплатной версии);
- именно подбор подходящей песни по критериям  очень удобен - поиск по базе, фильтры , группировка, сортировка;
- есть экспорт в CSV потом можно открыть в электронных таблицах MS Excel, Libre Office Calc.

## 3. Создаем репозиторий на GitHub.
GitHub - это сервис для хостинга и совместной разработки информационных проектов. Важный плюс такого подхода - система контроль версий. Удобная средство для отслеживания изменений. По каждому файлу ведется подробная история правок. Желающие просто делают свой FORK - "слепок" репозитория, и могут пользоватся им как душа пожелает. Исходный репозиторий от этого не портится.
Можно отправить COMMIT - файлы с новыми песни, или подправить уже существующие. Я наглядно вижу что именно предлагают изменить или добавить. Или PULL REQUEST, это слияние "веток" воедино.

## 3a. Дублируем базу на облачный сервис.
Технический уровень у всех разный - поэтому работа с GitHub может быть сложной для понимания  обычных пользователей. Да и большинство будет просто скачивать готовые песни. Поэтому базу песен мы выкладываем на облачный сервис. В нашем случае это ОблакоMailRu, GoogleDrive. 
Можно использовать любой - ЯндексДиск, Dropbox, OneDrive и тд. Что вам больше знакомо.


5. Основная цель которую я преследовал 
1) мы ОДИН раз набираем песню и потом все её используем
- на бумагу,
- на гаджет,
- на проектор,
- на сайт.
2) Это просто и доступно всем и не убывает при использовании + занимает мало места.
3) програмное обеспечение кросплатформенное, открытое и бесплатное. на гитхабе есть исходный код программ, можно понять, что как работает, переделать под себя. Я сам работаю в своем форке OpenChords.  формат XML свободный, человекочитаемый и открывается любым текстовым редактором.
4) гибкость - мы можем выбросить любой компонент и остальное продолжает работать.
я отдаю себе отчет, что у разных людей разный уровень компьютероной грамотности - пример с Луной.
но думаю, найдутся те кто то сможет извлечь из этого что то путное, дельное. и использовать в своем служении.
+ мы можем выбросить любой компонент и остальное продолжает работать.

[opensongapp]: {{ site.baseurl }}/assets/images/opensong6.png
[market]: https://play.google.com/store/apps/details?id=com.garethevans.church.opensongtablet&hl=ru
